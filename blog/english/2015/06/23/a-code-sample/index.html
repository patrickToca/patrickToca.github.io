<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Code Sample.</title>
    <link href="/favicon.png" rel="icon"/>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44682116-1', 'pmjtoca.io');
  ga('send', 'pageview');

</script>

    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection"/>
    <link rel="stylesheet" type="text/css" href="/css/highlight.css"/>
    <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet"/>
    <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet"/>
    <link rel="alternate" title='Moving toward what may in fact be the ultimate genocide: the destruction of the environment?!' href="/english/atom.xml" type="application/atom+xml">
    <script src="/js/amcharts/amcharts.js" type="text/javascript"></script>
    <script src="/js/amcharts/pie.js" type="text/javascript"></script>
    <script src="/js/elections2014-eng.js" type="text/javascript"></script>
</head>
<body>

<div class="menu">
    <a class="extra" href="/">&laquo; fran√ßais &raquo;</a> |
    <a href="/english">blog</a> |
    <a href="/english/projects/">projects</a> |
    <a href="/english/articles/">articles</a> |
    <a href="/english/about/">about</a>
</div>


<div class="site">


 	<div id="home">
        <div id="page">
    <div id="textblock">
        <h1>Code Sample.</h1>

        <h2>by Patrick Toca - read - June 23, 2015</h2>

<h1>A code presentation draft</h1>

<p><strong>Introduction</strong></p>

<p>This page is a first attempt to generate a Code Sample, just to check the highlight processing of {% Code Block: Go %}.</p>

<p>The Code:
<pre class="hl">
<span class="hl com">/*  This is a block comment Indeed  */</span>
<span class="hl kwa">package</span> main</p>

<p><span class="hl kwa">import</span> <span class="hl opt">(</span>
    <span class="hl str">&quot;fmt&quot;</span>
    <span class="hl str">&quot;strings&quot;</span>
    <span class="hl str">&quot;unicode&quot;</span>
<span class="hl opt">)</span></p>

<p><span class="hl kwa">func</span> <span class="hl kwd">main</span><span class="hl opt">() {</span>
    s <span class="hl opt">:=</span> <span class="hl str">&quot; &lt; p&gt;  the-tes t-. * ca se&lt;/ p&gt;  &quot;</span>
    fmt<span class="hl opt">.</span><span class="hl kwd">Printf</span><span class="hl opt">(</span><span class="hl str">&quot;Trimmed s =</span><span class="hl ipl">%q</span><span class="hl str"></span><span class="hl esc">\n</span><span class="hl str">&quot;</span><span class="hl opt">,</span> <span class="hl kwd">TrimSpace</span><span class="hl opt">(</span>s<span class="hl opt">,</span> <span class="hl str">&quot;&quot;</span><span class="hl opt">))</span>
<span class="hl opt">}</span></p>

<p><span class="hl kwa">func</span> <span class="hl kwd">TrimSpace</span><span class="hl opt">(</span>input <span class="hl kwb">string</span><span class="hl opt">,</span> replacer <span class="hl kwb">string</span><span class="hl opt">)</span> <span class="hl kwb">string</span> <span class="hl opt">{</span>
    <span class="hl kwa">var</span> listOfSpace <span class="hl opt">[]</span><span class="hl kwb">string</span>
    <span class="hl kwa">var</span> output <span class="hl kwb">string</span>
    <span class="hl slc">//build the listOfSpace, all runes that are &lsquo;Space&rsquo;</span>
    <span class="hl kwa">for</span> c <span class="hl opt">:=</span> <span class="hl kwa">range</span> <span class="hl kwd">RunesFromRange</span><span class="hl opt">(</span>unicode<span class="hl opt">.</span>Space<span class="hl opt">) {</span>
        <span class="hl kwa">if</span> c <span class="hl opt">&lt;</span> <span class="hl num">0x600</span> <span class="hl opt">{</span>
            listOfSpace <span class="hl opt">=</span> <span class="hl kwc">append</span><span class="hl opt">(</span>listOfSpace<span class="hl opt">,</span> <span class="hl kwb">string</span><span class="hl opt">(</span>unicode<span class="hl opt">.</span><span class="hl kwd">ToUpper</span><span class="hl opt">(</span>c<span class="hl opt">)))</span>
            fmt<span class="hl opt">.</span><span class="hl kwd">Printf</span><span class="hl opt">(</span><span class="hl str">&quot;</span><span class="hl ipl">%0</span><span class="hl str">5x</span> <span class="hl ipl">%s</span><span class="hl str"></span><span class="hl esc">\n</span><span class="hl str">&quot;</span><span class="hl opt">,</span> c<span class="hl opt">,</span> <span class="hl kwb">string</span><span class="hl opt">(</span>c<span class="hl opt">))</span>
        <span class="hl opt">}</span>
    <span class="hl opt">}</span>
    <span class="hl slc">//For each &lsquo;space&rsquo;, replace it</span>
    <span class="hl kwa">for</span> _<span class="hl opt">,</span> space <span class="hl opt">:=</span> <span class="hl kwa">range</span> listOfSpace <span class="hl opt">{</span>
        <span class="hl kwa">if</span> strings<span class="hl opt">.</span><span class="hl kwd">Contains</span><span class="hl opt">(</span>input<span class="hl opt">,</span> space<span class="hl opt">) {</span>
            <span class="hl slc">//sign: Replace(s, old, new string, n int) string.</span>
            <span class="hl slc">//If n&lt;0 there is no limit on the number of replacements.</span>
            output <span class="hl opt">=</span> strings<span class="hl opt">.</span><span class="hl kwd">Replace</span><span class="hl opt">(</span>input<span class="hl opt">,</span> space<span class="hl opt">,</span> replacer<span class="hl opt">, -</span><span class="hl num">1</span><span class="hl opt">)</span>
            <span class="hl kwa">return</span> output
        <span class="hl opt">}</span>
        output <span class="hl opt">=</span> input
    <span class="hl opt">}</span>
    <span class="hl kwa">return</span> output
<span class="hl opt">}</span></p>

<p><span class="hl kwa">func</span> <span class="hl kwd">RunesFromRange</span><span class="hl opt">(</span>tab <span class="hl opt">*</span>unicode<span class="hl opt">.</span>RangeTable<span class="hl opt">) &lt;-</span><span class="hl kwa">chan</span> <span class="hl kwb">rune</span> <span class="hl opt">{</span>
    res <span class="hl opt">:=</span> <span class="hl kwc">make</span><span class="hl opt">(</span><span class="hl kwa">chan</span> <span class="hl kwb">rune</span><span class="hl opt">)</span>
    <span class="hl kwa">go func</span><span class="hl opt">() {</span>
        <span class="hl kwa">defer</span> <span class="hl kwc">close</span><span class="hl opt">(</span>res<span class="hl opt">)</span>
        <span class="hl kwa">for</span> _<span class="hl opt">,</span> r16 <span class="hl opt">:=</span> <span class="hl kwa">range</span> tab<span class="hl opt">.</span>R16 <span class="hl opt">{</span>
            <span class="hl kwa">for</span> c <span class="hl opt">:=</span> r16<span class="hl opt">.</span>Lo<span class="hl opt">;</span> c <span class="hl opt">&lt;=</span> r16<span class="hl opt">.</span>Hi<span class="hl opt">;</span> c <span class="hl opt">+=</span> r16<span class="hl opt">.</span>Stride <span class="hl opt">{</span>
                res <span class="hl opt">&lt;-</span> <span class="hl kwb">rune</span><span class="hl opt">(</span>c<span class="hl opt">)</span>
            <span class="hl opt">}</span>
        <span class="hl opt">}</span>
        <span class="hl kwa">for</span> _<span class="hl opt">,</span> r32 <span class="hl opt">:=</span> <span class="hl kwa">range</span> tab<span class="hl opt">.</span>R32 <span class="hl opt">{</span>
            <span class="hl kwa">for</span> c <span class="hl opt">:=</span> r32<span class="hl opt">.</span>Lo<span class="hl opt">;</span> c <span class="hl opt">&lt;=</span> r32<span class="hl opt">.</span>Hi<span class="hl opt">;</span> c <span class="hl opt">+=</span> r32<span class="hl opt">.</span>Stride <span class="hl opt">{</span>
                res <span class="hl opt">&lt;-</span> <span class="hl kwb">rune</span><span class="hl opt">(</span>c<span class="hl opt">)</span>
            <span class="hl opt">}</span>
        <span class="hl opt">}</span>
    <span class="hl opt">}()</span>
    <span class="hl kwa">return</span> res
<span class="hl opt">}</span>
</pre></p>

        <hr/>
        
        <hr>
        <br>
        <a href="/english/about/">
            <small>Disclaimer</small>
        </a>
        <br>
        <hr>
        <h1>Comments</h1>
        <br>
        <hr>
        <div id="disqus_thread"></div>

            <script type="text/javascript">
  var disqus_shortname = 'pmjtocablog';
  var disqus_developer = '0';
  var disqus_identifier = '/blog/english/2015/06/23/a-code-sample/';
  var disqus_url = 'http://patrickTocaORIGINAL.github.io//blog/english/2015/06/23/a-code-sample/';
  var disqus_script = 'embed.js';
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


    </div>
</div>


    </div>


    <div><img src="/images/moebius/blog_logo.jpg" alt="blog logo" height="auto" width="100%"/></div>

    <div class="footer">
        <div class="contact">
            &copy; 2013-2014
            <a href='mailto:pmjtoca@gmail.com'>Patrick M.J. Toca</a>
            <a href="/english/atom.xml" rel="subscribe-rss" title="Subscribe via RSS">RSS</a>
        </div>
    </div>

</div>

</body>
</html>
